<?php
require_once "../init.php";
$m = new MongoDB\Client();
$db = $m->zkillboard;

// battles
echo "\nCreating collection battles ... ";
$battles = $db->battles;
echo "Done\n";
echo "Creating index : 'battleID' => 1, with sparse = 0 and unique = 1 ... ";
$battles->createIndex(array('battleID' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";
echo "Creating index : 'solarSystemID' => 1, 'dttm' => 1, 'options' => 1, with sparse = 0 and unique = 0 ... ";
$battles->createIndex(array('solarSystemID' => 1, 'dttm' => 1, 'options' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";

// comments
echo "\nCreating collection comments ... ";
$comments = $db->comments;
echo "Done\n";
echo "Creating index : 'pageID' => 1, with sparse = 0 and unique = 0 ... ";
$comments->createIndex(array('pageID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";

// crestmails
echo "\nCreating collection crestmails ... ";
$crestmails = $db->crestmails;
echo "Done\n";
echo "Creating index : 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$crestmails->createIndex(array('killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'killID' => 1, 'hash' => 1, with sparse = 0 and unique = 1 ... ";
$crestmails->createIndex(array('killID' => 1, 'hash' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";
echo "Creating index : 'npcOnly' => 1, with sparse = 1 and unique = 0 ... ";
$crestmails->createIndex(array('npcOnly' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'errorCode' => 1, with sparse = 1 and unique = 0 ... ";
$crestmails->createIndex(array('errorCode' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'processed' => 1, with sparse = 0 and unique = 0 ... ";
$crestmails->createIndex(array('processed' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'processed' => 1, 'killID' => -1, with sparse = 0 and unique = 0 ... ";
$crestmails->createIndex(array('processed' => 1, 'killID' => -1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'hash' => 1, with sparse = 0 and unique = 0 ... ";
$crestmails->createIndex(array('hash' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'added' => -1, with sparse = 0 and unique = 0 ... ";
$crestmails->createIndex(array('added' => -1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'delayed' => 1, with sparse = 1 and unique = 0 ... ";
$crestmails->createIndex(array('delayed' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";

// daydump
echo "\nCreating collection daydump ... ";
$daydump = $db->daydump;
echo "Done\n";
echo "Creating index : 'day' => 1, with sparse = 0 and unique = 0 ... ";
$daydump->createIndex(array('day' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";

// esimails
echo "\nCreating collection esimails ... ";
$esimails = $db->esimails;
echo "Done\n";
echo "Creating index : 'killmail_id' => 1, with sparse = 0 and unique = 1 ... ";
$esimails->createIndex(array('killmail_id' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";

// evemails
echo "\nCreating collection evemails ... ";
$evemails = $db->evemails;
echo "Done\n";
echo "Creating index : 'sent' => 1, with sparse = 0 and unique = 0 ... ";
$evemails->createIndex(array('sent' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";

// favorites
echo "\nCreating collection favorites ... ";
$favorites = $db->favorites;
echo "Done\n";
echo "Creating index : 'characterID' => 1, 'killID' => 1, with sparse = 0 and unique = 1 ... ";
$favorites->createIndex(array('characterID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";

// information
echo "\nCreating collection information ... ";
$information = $db->information;
echo "Done\n";
echo "Creating index : 'name' => 1, with sparse = 0 and unique = 0 ... ";
$information->createIndex(array('name' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'name' => 1, 'type' => 1, with sparse = 0 and unique = 0 ... ";
$information->createIndex(array('name' => 1, 'type' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'id' => 1, with sparse = 0 and unique = 0 ... ";
$information->createIndex(array('id' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'id' => 1, with sparse = 0 and unique = 1 ... ";
$information->createIndex(array('type' => 1, 'id' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";
echo "Creating index : 'regionID' => 1, with sparse = 1 and unique = 0 ... ";
$information->createIndex(array('regionID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'groupID' => 1, with sparse = 1 and unique = 0 ... ";
$information->createIndex(array('groupID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'allianceID' => 1, with sparse = 1 and unique = 0 ... ";
$information->createIndex(array('type' => 1, 'allianceID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'ticker' => 1, with sparse = 1 and unique = 0 ... ";
$information->createIndex(array('type' => 1, 'ticker' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'timeStarted' => 1, with sparse = 1 and unique = 0 ... ";
$information->createIndex(array('type' => 1, 'timeStarted' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'timeFinished' => -1, with sparse = 1 and unique = 0 ... ";
$information->createIndex(array('type' => 1, 'timeFinished' => -1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'mutual' => 1, 'timeStarted' => -1, with sparse = 1 and unique = 0 ... ";
$information->createIndex(array('type' => 1, 'mutual' => 1, 'timeStarted' => -1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'timeStarted' => -1, with sparse = 1 and unique = 0 ... ";
$information->createIndex(array('type' => 1, 'timeStarted' => -1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'lastApiUpdate' => 1, with sparse = 0 and unique = 0 ... ";
$information->createIndex(array('type' => 1, 'lastApiUpdate' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'lastUpdated' => 1, with sparse = 1 and unique = 0 ... ";
$information->createIndex(array('type' => 1, 'lastUpdated' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'finished' => 1, with sparse = 1 and unique = 0 ... ";
$information->createIndex(array('type' => 1, 'finished' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'warID' => 1, 'started' => -1, with sparse = 1 and unique = 0 ... ";
$information->createIndex(array('warID' => 1, 'started' => -1), array("sparse" => 1, "unique" => 0));
echo "Done\n";

// insurance
echo "\nCreating collection insurance ... ";
$insurance = $db->insurance;
echo "Done\n";
echo "Creating index : 'typeID' => 1, 'date' => 1, with sparse = 0 and unique = 1 ... ";
$insurance->createIndex(array('typeID' => 1, 'date' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";

// itemmails
echo "\nCreating collection itemmails ... ";
$itemmails = $db->itemmails;
echo "Done\n";
echo "Creating index : 'typeID' => 1, with sparse = 0 and unique = 0 ... ";
$itemmails->createIndex(array('typeID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'killID' => -1, with sparse = 0 and unique = 0 ... ";
$itemmails->createIndex(array('killID' => -1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'typeID' => 1, 'killID' => -1, with sparse = 0 and unique = 1 ... ";
$itemmails->createIndex(array('typeID' => 1, 'killID' => -1), array("sparse" => 0, "unique" => 1));
echo "Done\n";

// killmails
echo "\nCreating collection killmails ... ";
$killmails = $db->killmails;
echo "Done\n";
echo "Creating index : 'killID' => 1, with sparse = 0 and unique = 1 ... ";
$killmails->createIndex(array('killID' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";
echo "Creating index : 'attackerCount' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('attackerCount' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'dttm' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('dttm' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'vGroupID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('vGroupID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.solarSystemID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('system.solarSystemID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.regionID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('system.regionID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.characterID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('involved.characterID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.corporationID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('involved.corporationID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.allianceID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('involved.allianceID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.factionID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('involved.factionID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.shipTypeID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('involved.shipTypeID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.groupID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('involved.groupID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'warID' => 1, with sparse = 1 and unique = 0 ... ";
$killmails->createIndex(array('warID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.factionID' => 1, 'involved.isVictim' => 1, 'killID' => 1, with sparse = 1 and unique = 0 ... ";
$killmails->createIndex(array('involved.factionID' => 1, 'involved.isVictim' => 1, 'killID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.groupID' => 1, 'involved.isVictim' => 1, 'killID' => 1, with sparse = 1 and unique = 0 ... ";
$killmails->createIndex(array('involved.groupID' => 1, 'involved.isVictim' => 1, 'killID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'zkb.totalValue' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('zkb.totalValue' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'sequence' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('sequence' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.security' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('system.security' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'solo' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('solo' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'awox' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('awox' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.shipTypeID' => 1, 'involved.groupID' => 1, 'killID' => -1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('involved.shipTypeID' => 1, 'involved.groupID' => 1, 'killID' => -1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.constellationID' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('system.constellationID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'locationID' => 1, with sparse = 1 and unique = 0 ... ";
$killmails->createIndex(array('locationID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'zkb.points' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('zkb.points' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'npc' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('npc' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.characterID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('involved.characterID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.corporationID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('involved.corporationID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.allianceID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1, with sparse = 1 and unique = 0 ... ";
$killmails->createIndex(array('involved.allianceID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.factionID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1, with sparse = 1 and unique = 0 ... ";
$killmails->createIndex(array('involved.factionID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.shipTypeID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1, with sparse = 1 and unique = 0 ... ";
$killmails->createIndex(array('involved.shipTypeID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.groupID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1, with sparse = 1 and unique = 0 ... ";
$killmails->createIndex(array('involved.groupID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'dttm' => 1, 'killID' => -1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('dttm' => 1, 'killID' => -1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'zkb.fittedValue' => -1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('zkb.fittedValue' => -1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'structure' => 1, with sparse = 0 and unique = 0 ... ";
$killmails->createIndex(array('structure' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'ganked' => 1, with sparse = 1 and unique = 0 ... ";
$killmails->createIndex(array('ganked' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";

// locations
echo "\nCreating collection locations ... ";
$locations = $db->locations;
echo "Done\n";
echo "Creating index : 'id' => 1, with sparse = 0 and unique = 0 ... ";
$locations->createIndex(array('id' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";

// ninetyDays
echo "\nCreating collection ninetyDays ... ";
$ninetyDays = $db->ninetyDays;
echo "Done\n";
echo "Creating index : 'killID' => 1, with sparse = 0 and unique = 1 ... ";
$ninetyDays->createIndex(array('killID' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";
echo "Creating index : 'attackerCount' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('attackerCount' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'dttm' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('dttm' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'vGroupID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('vGroupID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.solarSystemID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('system.solarSystemID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.regionID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('system.regionID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.characterID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.characterID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.corporationID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.corporationID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.allianceID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.allianceID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.factionID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.factionID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.shipTypeID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.shipTypeID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.groupID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.groupID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'warID' => 1, with sparse = 1 and unique = 0 ... ";
$ninetyDays->createIndex(array('warID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.factionID' => 1, 'involved.isVictim' => 1, 'killID' => 1, with sparse = 1 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.factionID' => 1, 'involved.isVictim' => 1, 'killID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.groupID' => 1, 'involved.isVictim' => 1, 'killID' => 1, with sparse = 1 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.groupID' => 1, 'involved.isVictim' => 1, 'killID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'zkb.totalValue' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('zkb.totalValue' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'sequence' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('sequence' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.security' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('system.security' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'solo' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('solo' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'awox' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('awox' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.shipTypeID' => 1, 'involved.groupID' => 1, 'killID' => -1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.shipTypeID' => 1, 'involved.groupID' => 1, 'killID' => -1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.constellationID' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('system.constellationID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'locationID' => 1, with sparse = 1 and unique = 0 ... ";
$ninetyDays->createIndex(array('locationID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'zkb.points' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('zkb.points' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'npc' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('npc' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.characterID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.characterID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.corporationID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.corporationID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.allianceID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1, with sparse = 1 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.allianceID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.factionID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1, with sparse = 1 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.factionID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.shipTypeID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1, with sparse = 1 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.shipTypeID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.groupID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1, with sparse = 1 and unique = 0 ... ";
$ninetyDays->createIndex(array('involved.groupID' => 1, 'npc' => 1, 'sequence' => 1, 'involved.isVictim' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'dttm' => 1, 'killID' => -1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('dttm' => 1, 'killID' => -1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'zkb.fittedValue' => -1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('zkb.fittedValue' => -1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'structure' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('structure' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'ganked' => 1, with sparse = 1 and unique = 0 ... ";
$ninetyDays->createIndex(array('ganked' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'dttm' => 1, with sparse = 0 and unique = 0 ... ";
$ninetyDays->createIndex(array('dttm' => 1), array("sparse" => 0, "unique" => 0, "expireAfterSeconds" => 7776000));
echo "Done\n";

// oneWeek
echo "\nCreating collection oneWeek ... ";
$oneWeek = $db->oneWeek;
echo "Done\n";
echo "Creating index : 'killID' => 1, with sparse = 0 and unique = 1 ... ";
$oneWeek->createIndex(array('killID' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";
echo "Creating index : 'attackerCount' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('attackerCount' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'dttm' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('dttm' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'vGroupID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('vGroupID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.solarSystemID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.solarSystemID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.regionID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.regionID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.characterID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.characterID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.corporationID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.corporationID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.allianceID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.allianceID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.factionID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.factionID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.shipTypeID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.shipTypeID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.groupID' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.groupID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'warID' => 1, with sparse = 1 and unique = 0 ... ";
$oneWeek->createIndex(array('warID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.factionID' => 1, 'involved.isVictim' => 1, 'killID' => 1, with sparse = 1 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.factionID' => 1, 'involved.isVictim' => 1, 'killID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.groupID' => 1, 'involved.isVictim' => 1, 'killID' => 1, with sparse = 1 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.groupID' => 1, 'involved.isVictim' => 1, 'killID' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'zkb.totalValue' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('zkb.totalValue' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'sequence' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('sequence' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.security' => 1, 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.security' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'solo' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('solo' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'awox' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('awox' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'dttm' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('dttm' => 1), array("sparse" => 0, "unique" => 0, "expireAfterSeconds" => 604800));
echo "Done\n";
echo "Creating index : 'involved.allianceID' => 1, 'involved.characterID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.allianceID' => 1, 'involved.characterID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.corporationID' => 1, 'involved.characterID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.corporationID' => 1, 'involved.characterID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.allianceID' => 1, 'involved.shipTypeID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.allianceID' => 1, 'involved.shipTypeID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.shipTypeID' => 1, 'involved.allianceID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.shipTypeID' => 1, 'involved.allianceID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.shipTypeID' => 1, 'involved.corporationID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.shipTypeID' => 1, 'involved.corporationID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.shipTypeID' => 1, 'involved.characterID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.shipTypeID' => 1, 'involved.characterID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.shipTypeID' => 1, 'system.solarSystemID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.shipTypeID' => 1, 'system.solarSystemID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.regionID' => 1, 'system.solarSystemID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.regionID' => 1, 'system.solarSystemID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.regionID' => 1, 'involved.characterID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.regionID' => 1, 'involved.characterID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.regionID' => 1, 'involved.corporationID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.regionID' => 1, 'involved.corporationID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.regionID' => 1, 'involved.allianceID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.regionID' => 1, 'involved.allianceID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.regionID' => 1, 'involved.factionID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.regionID' => 1, 'involved.factionID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.regionID' => 1, 'involved.shipTypeID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.regionID' => 1, 'involved.shipTypeID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.regionID' => 1, 'involved.groupID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.regionID' => 1, 'involved.groupID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.solarSystemID' => 1, 'involved.characterID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.solarSystemID' => 1, 'involved.characterID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.solarSystemID' => 1, 'involved.corporationID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.solarSystemID' => 1, 'involved.corporationID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.solarSystemID' => 1, 'involved.allianceID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.solarSystemID' => 1, 'involved.allianceID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.solarSystemID' => 1, 'involved.factionID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.solarSystemID' => 1, 'involved.factionID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.solarSystemID' => 1, 'involved.shipTypeID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.solarSystemID' => 1, 'involved.shipTypeID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'system.solarSystemID' => 1, 'involved.groupID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('system.solarSystemID' => 1, 'involved.groupID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.characterID' => 1, 'involved.corporationID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.characterID' => 1, 'involved.corporationID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.characterID' => 1, 'involved.allianceID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.characterID' => 1, 'involved.allianceID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.characterID' => 1, 'involved.factionID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.characterID' => 1, 'involved.factionID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.characterID' => 1, 'involved.shipTypeID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.characterID' => 1, 'involved.shipTypeID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.characterID' => 1, 'involved.groupID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.characterID' => 1, 'involved.groupID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.corporationID' => 1, 'involved.allianceID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.corporationID' => 1, 'involved.allianceID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.corporationID' => 1, 'involved.factionID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.corporationID' => 1, 'involved.factionID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.corporationID' => 1, 'involved.shipTypeID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.corporationID' => 1, 'involved.shipTypeID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.corporationID' => 1, 'involved.groupID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.corporationID' => 1, 'involved.groupID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.allianceID' => 1, 'involved.factionID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.allianceID' => 1, 'involved.factionID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.allianceID' => 1, 'involved.groupID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.allianceID' => 1, 'involved.groupID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.factionID' => 1, 'involved.shipTypeID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.factionID' => 1, 'involved.shipTypeID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.factionID' => 1, 'involved.groupID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.factionID' => 1, 'involved.groupID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'involved.shipTypeID' => 1, 'involved.groupID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('involved.shipTypeID' => 1, 'involved.groupID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'locationID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('locationID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'categoryID' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('categoryID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'categoryID' => 1, 'npc' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('categoryID' => 1, 'npc' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'npc' => 1, 'categoryID' => 1, 'zkb.totalValue' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('npc' => 1, 'categoryID' => 1, 'zkb.totalValue' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'npc' => 1, 'categoryID' => 1, 'involved.characterID' => 1, 'zkb.totalValue' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('npc' => 1, 'categoryID' => 1, 'involved.characterID' => 1, 'zkb.totalValue' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'npc' => 1, 'categoryID' => 1, 'involved.corporationID' => 1, 'zkb.totalValue' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('npc' => 1, 'categoryID' => 1, 'involved.corporationID' => 1, 'zkb.totalValue' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'npc' => 1, 'categoryID' => 1, 'involved.allianceID' => 1, 'zkb.totalValue' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('npc' => 1, 'categoryID' => 1, 'involved.allianceID' => 1, 'zkb.totalValue' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'npc' => 1, 'categoryID' => 1, 'involved.shipTypeID' => 1, 'zkb.totalValue' => 1, with sparse = 0 and unique = 0 ... ";
$oneWeek->createIndex(array('npc' => 1, 'categoryID' => 1, 'involved.shipTypeID' => 1, 'zkb.totalValue' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";

// payments
echo "\nCreating collection payments ... ";
$payments = $db->payments;
echo "Done\n";
echo "Creating index : 'paymentApplied' => 1, with sparse = 0 and unique = 0 ... ";
$payments->createIndex(array('paymentApplied' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'refID' => 1, with sparse = 0 and unique = 1 ... ";
$payments->createIndex(array('refID' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";

// prices
echo "\nCreating collection prices ... ";
$prices = $db->prices;
echo "Done\n";
echo "Creating index : 'typeID' => 1, with sparse = 0 and unique = 0 ... ";
$prices->createIndex(array('typeID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";

// scopes
echo "\nCreating collection scopes ... ";
$scopes = $db->scopes;
echo "Done\n";
echo "Creating index : 'characterID' => 1, 'scope' => 1, with sparse = 0 and unique = 1 ... ";
$scopes->createIndex(array('characterID' => 1, 'scope' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";
echo "Creating index : 'characterID' => 1, with sparse = 0 and unique = 0 ... ";
$scopes->createIndex(array('characterID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'corporationID' => 1, 'scope' => 1, with sparse = 1 and unique = 0 ... ";
$scopes->createIndex(array('corporationID' => 1, 'scope' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'scope' => 1, 'lastApiUpdate' => 1, with sparse = 0 and unique = 0 ... ";
$scopes->createIndex(array('scope' => 1, 'lastApiUpdate' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'iterated' => 1, with sparse = 1 and unique = 0 ... ";
$scopes->createIndex(array('iterated' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";

// search
echo "\nCreating collection search ... ";
$search = $db->search;
echo "Done\n";
echo "Creating index : 'type' => 1, 'name' => 1, with sparse = 0 and unique = 0 ... ";
$search->createIndex(array('type' => 1, 'name' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'dttm' => 1, with sparse = 0 and unique = 0 ... ";
$search->createIndex(array('dttm' => 1), array("sparse" => 0, "unique" => 0, "expireAfterSeconds" => 86400));
echo "Done\n";

// sponsored
echo "\nCreating collection sponsored ... ";
$sponsored = $db->sponsored;
echo "Done\n";
echo "Creating index : 'killID' => 1, 'isk' => 1, with sparse = 0 and unique = 0 ... ";
$sponsored->createIndex(array('killID' => 1, 'isk' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'killID' => 1, with sparse = 0 and unique = 0 ... ";
$sponsored->createIndex(array('killID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'entryTime' => 1, with sparse = 0 and unique = 0 ... ";
$sponsored->createIndex(array('entryTime' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'victim' => 1, with sparse = 0 and unique = 0 ... ";
$sponsored->createIndex(array('victim' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'victim.characterID' => 1, with sparse = 0 and unique = 0 ... ";
$sponsored->createIndex(array('victim.characterID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'victim.corporationID' => 1, with sparse = 0 and unique = 0 ... ";
$sponsored->createIndex(array('victim.corporationID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'victim.allianceID' => 1, with sparse = 0 and unique = 0 ... ";
$sponsored->createIndex(array('victim.allianceID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'victim.factionID' => 1, with sparse = 0 and unique = 0 ... ";
$sponsored->createIndex(array('victim.factionID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'victim.shipTypeID' => 1, with sparse = 0 and unique = 0 ... ";
$sponsored->createIndex(array('victim.shipTypeID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'victim.groupID' => 1, with sparse = 0 and unique = 0 ... ";
$sponsored->createIndex(array('victim.groupID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'victim.solarSystemID' => 1, with sparse = 0 and unique = 0 ... ";
$sponsored->createIndex(array('victim.solarSystemID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'victim.regionID' => 1, with sparse = 0 and unique = 0 ... ";
$sponsored->createIndex(array('victim.regionID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'victim.locationID' => 1, with sparse = 0 and unique = 0 ... ";
$sponsored->createIndex(array('victim.locationID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";

// statistics
echo "\nCreating collection statistics ... ";
$statistics = $db->statistics;
echo "Done\n";
echo "Creating index : 'type' => 1, 'id' => 1, with sparse = 0 and unique = 1 ... ";
$statistics->createIndex(array('type' => 1, 'id' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";
echo "Creating index : 'type' => 1, 'id' => 1, 'stats.type' => 1, 'stats.id' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'id' => 1, 'stats.type' => 1, 'stats.id' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'shipsDestroyed' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'shipsDestroyed' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'shipsLost' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'shipsLost' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'iskLost' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'iskLost' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'pointsLost' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'pointsLost' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'pointsDestroyed' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'pointsDestroyed' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'iskDestroyed' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'iskDestroyed' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'overallRank' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('overallRank' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'overallScore' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('overallScore' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'overallScore' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'overallScore' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'id' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('id' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'shipsDestroyedRank' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'shipsDestroyedRank' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'shipsLostRank' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'shipsLostRank' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'iskDestroyedRank' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'iskDestroyedRank' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'iskLostRank' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'iskLostRank' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'pointsDestroyedRank' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'pointsDestroyedRank' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'pointsLostRank' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'pointsLostRank' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'overallRank' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'overallRank' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentShipsDestroyed' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentShipsDestroyed' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentShipsDestroyedRank' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentShipsDestroyedRank' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentShipsLost' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentShipsLost' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentShipsLostRank' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentShipsLostRank' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentIskDestroyed' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentIskDestroyed' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentIskDestroyedRank' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentIskDestroyedRank' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentIskLost' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentIskLost' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentIskLostRank' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentIskLostRank' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentPointsDestroyed' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentPointsDestroyed' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentPointsDestroyedRank' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentPointsDestroyedRank' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentPointsLost' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentPointsLost' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentPointsLostRank' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentPointsLostRank' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentOverallScore' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentOverallScore' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'type' => 1, 'recentOverallRank' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('type' => 1, 'recentOverallRank' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'shipsDestroyed' => 1, with sparse = 0 and unique = 0 ... ";
$statistics->createIndex(array('shipsDestroyed' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'calcTrophies' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('calcTrophies' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";
echo "Creating index : 'reset' => 1, with sparse = 1 and unique = 0 ... ";
$statistics->createIndex(array('reset' => 1), array("sparse" => 1, "unique" => 0));
echo "Done\n";

// tickets
echo "\nCreating collection tickets ... ";
$tickets = $db->tickets;
echo "Done\n";
echo "Creating index : 'characterID' => 1, with sparse = 0 and unique = 0 ... ";
$tickets->createIndex(array('characterID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'dttm' => 1, with sparse = 0 and unique = 0 ... ";
$tickets->createIndex(array('dttm' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'dttm' => 1, 'characterID' => 1, with sparse = 0 and unique = 0 ... ";
$tickets->createIndex(array('dttm' => 1, 'characterID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'parentID' => 1, 'dttm' => 1, with sparse = 0 and unique = 0 ... ";
$tickets->createIndex(array('parentID' => 1, 'dttm' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";

// users
echo "\nCreating collection users ... ";
$users = $db->users;
echo "Done\n";
echo "Creating index : 'userID' => 1, with sparse = 0 and unique = 0 ... ";
$users->createIndex(array('userID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'characterID' => 1, with sparse = 0 and unique = 1 ... ";
$users->createIndex(array('characterID' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";

// warmails
echo "\nCreating collection warmails ... ";
$warmails = $db->warmails;
echo "Done\n";
echo "Creating index : 'warID' => 1, with sparse = 0 and unique = 0 ... ";
$warmails->createIndex(array('warID' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'warID' => 1, 'killID' => 1, with sparse = 0 and unique = 1 ... ";
$warmails->createIndex(array('warID' => 1, 'killID' => 1), array("sparse" => 0, "unique" => 1));
echo "Done\n";

// zlog
echo "\nCreating collection zlog ... ";
$zlog = $db->zlog;
echo "Done\n";
echo "Creating index : 'characterID' => 1, 'entryTime' => 1, with sparse = 0 and unique = 0 ... ";
$zlog->createIndex(array('characterID' => 1, 'entryTime' => 1), array("sparse" => 0, "unique" => 0));
echo "Done\n";
echo "Creating index : 'entryTime' => 1, with sparse = 0 and unique = 0 ... ";
$zlog->createIndex(array('entryTime' => 1), array("sparse" => 0, "unique" => 0, "expireAfterSeconds" => 7776000));
echo "Done\n";

